<div class="container mt-5">
  <h1 class="text-center text-primary mb-4">API Plantilla (Fetch)</h1>

  <form #plantillaForm="ngForm" class="row g-3 justify-content-center mb-4">
    <div class="col-md-4">
      <label for="funcionesSelect" class="form-label fw-semibold">Selecciona una función</label>
      <select name="selectfunciones" #selectfuncion class="form-select">
        @for (func of funciones; track func) {
        <option>{{ func }}</option>
        }
      </select>
    </div>

    <div class="col-md-2 d-flex align-items-end">
      <button type="button" class="btn btn-success w-100" (click)="mostrarPlantilla()">
        <i class="bi bi-download me-1"></i> Cargar Plantilla
      </button>
    </div>
  </form>

  @if (plantillas.length > 0){
  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle shadow-sm">
      <thead class="table-primary">
        <tr>
          <th>ID</th>
          <th>Hospital</th>
          <th>Sala</th>
          <th>Apellido</th>
          <th>Función</th>
          <th>Turno</th>
          <th>Salario</th>
        </tr>
      </thead>
      <tbody>
        @for (emp of plantillas; track emp) {
        <tr>
          <td>{{ emp.idEmpleado }}</td>
          <td>{{ emp.idHospital }}</td>
          <td>{{ emp.idSala }}</td>
          <td>{{ emp.apellido }}</td>
          <td>{{ emp.funcion }}</td>
          <td>{{ emp.turno }}</td>
          <td>{{ emp.salario }}€</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  }
</div>
